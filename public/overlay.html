<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Overlay</title>
    <style>
      html, body {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        background: transparent;
        overflow: hidden;
      }
      #overlay-canvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        pointer-events: none; /* click-through */
        display: block;
      }
    </style>
  </head>
  <body>
    <canvas id="overlay-canvas"></canvas>
    <script>
      const canvas = document.getElementById('overlay-canvas');
      const ctx = canvas.getContext('2d');

      function resizeCanvas() {
        const dpr = window.devicePixelRatio || 1;
        const width = Math.ceil(window.innerWidth * dpr);
        const height = Math.ceil(window.innerHeight * dpr);
        canvas.width = width;
        canvas.height = height;
        canvas.style.width = '100vw';
        canvas.style.height = '100vh';
        ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
        draw();
      }

      function drawCircle(x, y, r, color = 'rgba(255,0,0,0.9)') {
        ctx.beginPath();
        ctx.arc(x, y, r, 0, Math.PI * 2);
        ctx.strokeStyle = color;
        ctx.lineWidth = 3;
        ctx.stroke();
      }

      function drawArrow(fromX, fromY, toX, toY, color = 'rgba(255,0,0,0.9)') {
        const headLength = 12; // length of head in pixels
        const dx = toX - fromX;
        const dy = toY - fromY;
        const angle = Math.atan2(dy, dx);

        ctx.strokeStyle = color;
        ctx.fillStyle = color;
        ctx.lineWidth = 3;

        // line
        ctx.beginPath();
        ctx.moveTo(fromX, fromY);
        ctx.lineTo(toX, toY);
        ctx.stroke();

        // arrow head
        ctx.beginPath();
        ctx.moveTo(toX, toY);
        ctx.lineTo(
          toX - headLength * Math.cos(angle - Math.PI / 6),
          toY - headLength * Math.sin(angle - Math.PI / 6)
        );
        ctx.lineTo(
          toX - headLength * Math.cos(angle + Math.PI / 6),
          toY - headLength * Math.sin(angle + Math.PI / 6)
        );
        ctx.lineTo(toX, toY);
        ctx.fill();
      }

      function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        // Proof of concept: a circle and an arrow
        drawCircle(150, 150, 40);
        drawArrow(220, 120, 360, 200);
      }

      window.addEventListener('resize', resizeCanvas);
      resizeCanvas();
    </script>
  </body>
  </html>


